@model List<ApiMovieModel>
@{
	ViewData["Title"] = "IndexAsync";
	Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
	string url = "";
}

<h1>IndexAsync</h1>

<table class="table table-striped">
	<tr>
		<th class="text-center">#</th>
		<th class="text-center">Görsel</th>
		<th class="text-center">Film Adı</th>
		<th class="text-center">Puanı</th>
		<th class="text-center">Çıkış Yılı</th>
		<th class="text-center">Fragman</th>
	</tr>
	@foreach (var item in Model)
	{
		<tr>
			<td>@item.rank</td>
			<td>
				<img class="rounded" src="@item.image" width="100" height="150" />
			</td>
			<td class="text-center" style="zoom: 90%;"><b>@item.title</b></td>
			<td>@item.rating</td>
			<td>@item.year</td>
			<td>
				@{
					url = item.trailer;
				}
				<button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#youTubeModal" data-thevideo="@item.trailer">
					<i class='bx bx-movie-play'></i> &nbsp;
					Fragman
				</button>
			</td>
		</tr>
	}
</table>

<div class="modal fade" id="youTubeModal" tabindex="-1" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<iframe height="350" src="https://www.youtube.com/@url"></iframe>
		</div>
	</div>
</div>

<script src="~/sneat-1.0.0/assets/js/ui-modals.js"></script>